var IteroJS=function(){function n(n){this.message=n||"";this.stack=(new Error).stack}function o(n,t){var i,r;r=!1;i=document.createElement("script");i.type="text/javascript";i.src=n;i.onload=i.onreadystatechange=function(){r||this.readyState&&this.readyState!="complete"||(r=!0,t())};head=document.getElementsByTagName("head")[0];head.appendChild(i)}function y(n,t,i,r){var e=typeof t=="array",u,f;for(u in t)f=t[u],r&&(u=i?r:r+"["+(e?"":u)+"]"),!r&&e?n.add(f.name,f.value):n.add(u,f)}function p(n,t){var i=[];return i.add=function(n,t){this.push(escape(n)+"="+escape(t))},y(i,n,t),i.join("&").replace("%20","+")}function s(n){return p(n,!0)}function t(n,t,i){var r={errorCode:[],errorMessage:t||"An unknown error occurred",referenceId:null,referenceUrl:null,details:i||null};return r.errorCode=r.errorCode.concat(n),r}function h(n){var u,i,r;if(n.apierror)for(i=0;i<f.length;i++)if(n.apierror==f[i][0])return t([f[i][1]],"Creating Paymill token failed");if(n.get)for(u=parseInt(n.get("errorcode")),i=0;i<e.length;i++)for(r=e[i][0],j=0;j<r.length;j++)if(u==parseInt(r[j]))return t([e[i][1]],"PayOne bearer check failed");return t(["Unknown"],"An unknown payment error occurred",n)}function w(n){return t(["Unknown"],"An unknown error occurred",n)}function l(n){return t([n.Code],n.Message,n.Details)}function b(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(n){return null}}function a(n,t,i){var r=JSON.parse(n.responseText),u;r.Error?(u=l(r.Error),i(u)):r.Success?t(r.Success):t(r)}function r(n,i,r,u,f){var h=null,c,e,o;if(i=="PUT"||i=="POST"||i=="PATCH"?h=JSON.stringify(r):(o=s(r),o!=""&&(n=n+"?"+o)),c=(window.location.protocol+"//"+window.location.host+"/").toLowerCase()!=n.toLowerCase().split("/",3).join("/"),e=b(),e!=null&&(!c||"withCredentials"in e))e.onreadystatechange=function(){var o,i,r;if(e.readyState==4)if(e.status<400&&e.status>0)a(e,u,f);else if(e.status==0)e.responseText&&e.responseText!=null?a(e,u,f):(o="Url: "+n,h!=null&&(o+=", Data: "+h),f(t(["IteroServerError"],"Failed to connect to Pactas server or request timed out",o)));else{i={};try{r=JSON.parse(e.responseText);i=r&&r.Message?t(["UnmappedError",e.statusText],r.Message):t(["UnmappedError",e.statusText],e.responseText)}catch(s){i=t(["UnmappedError",e.statusText],e.responseText)}f(i)}},e.open(i,n,!0),e.setRequestHeader("Content-Type","text/plain"),e.send(h);else if(window.XDomainRequest)e=new window.XDomainRequest,e.onload=function(){var n=JSON.parse(e.responseText);n.Success&&(n=n.Success);u(n)},e.onerror=function(){if(f){var n=e.responseText;try{n=JSON.parse(e.responseText);n.Error?f(l(n.Error)):f(w(n))}catch(i){f(t(["UnmappedError"],e.responseText))}}},i=="PUT"?(o=s({requestMethod:"PUT"}),o!=""&&(n=n.indexOf("?")<0?n+"?"+o:n+"&"+o),i="POST"):i=="PATCH"&&(o=s({requestMethod:"PATCH"}),o!=""&&(n=n.indexOf("?")<0?n+"?"+o:n+"&"+o),i="POST"),e.open(i,n),h?e.send(h):e.send();else throw new Error("Your browser doesn't support AJAX");}function i(n,t,i,u){return r(n,"POST",t,i,u)}function u(n,t,i,u){return r(n,"GET",t,i,u)}function k(n,t,i,u){return r(n,"PATCH",t,i,u)}function c(n){function t(){i||(i=!0,n())}var i=!1,u,r;if(document.readyState!="loading"){t();return}if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){try{u=window.frameElement!=null}catch(e){}if(document.documentElement.doScroll&&!u){function f(){if(!i)try{document.documentElement.doScroll("left");t()}catch(n){setTimeout(f,10)}}f()}document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&t()})}window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent?window.attachEvent("onload",t):(r=window.onload,window.onload=function(){r&&r();t()})}this.baseUrl="http://itero.demo.pactas.com/api/v1/";var v={AT:/^ATU[A-Z0-9]{8,8}$/,BE:/^BE[0-9]{10,10}$|^BE[0]{1,1}[0-9]{9,9}$/,BG:/^BG[0-9]{9,10}$/,CY:/^CY[0-9]{8,8}[A-Z]{1,1}$/,CZ:/^CZ[0-9]{8,10}$/,DE:/^DE[0-9]{9,9}$/,DK:/^DK[0-9]{8,8}$/,EE:/^EE[0-9]{9,9}$/,EL:/^EL[0-9]{9,9}$/,ES:/^ES[A-Z0-9]{1,1}[0-9]{7,7}[A-Z0-9]{1,1}$/,FI:/^FI[0-9]{8,8}$/,FR:/^FR[A-Z0-9]{2,2}[0-9]{9,9}$/,GB:/^GB[0-9]{9,9}$|^GB[0-9]{12,12}$|^GBGD[0-9]{3,3}$|^GBHA[0-9]{3,3}$/,HR:/^HR[0-9]{11,11}$/,HU:/^HU[0-9]{8,8}$/,IE:/^IE[0-9]{1,1}[A-Z0-9]{1,1}[0-9]{5,5}[A-Z]{1,1}$|^IE[0-9]{7,7}[A-W]{1,1}[A-I]{1,1}$/,IT:/^IT[0-9]{11,11}$/,LT:/^LT[0-9]{9,9}$|^LT[0-9]{12,12}$/,LU:/^LU[0-9]{8,8}$/,LV:/^LV[0-9]{11,11}$/,MT:/^MT[0-9]{8,8}$/,NL:/^NL[A-Z0-9]{9,9}B[A-Z0-9]{2,2}$/,PL:/^PL[0-9]{10,10}$/,PT:/^PT[0-9]{9,9}$/,RO:/^RO[1-9]{1,1}[0-9]{1,9}$/,SE:/^SE[0-9]{10,10}01$/,SI:/^SI[0-9]{8,8}$/,SK:/^SK[0-9]{10,10}$/},f=[["internal_server_error","PspServerError"],["invalid_public_key","InvalidKey"],["invalid_payment_data","InvalidPaymentData"],["unknown_error","UnmappedError"],["3ds_cancelled","Aborted"],["field_invalid_card_number","InvalidCardNumber"],["field_invalid_card_exp_year","InvalidExpirationDate"],["field_invalid_card_exp_month","InvalidExpirationDate"],["field_invalid_card_exp","InvalidExpirationDate"],["field_invalid_card_cvc","InvalidCardCvc"],["field_invalid_card_holder","InvalidCardHolder"],["field_invalid_amount_int","InvalidAmount"],["field_invalid_amount","InvalidAmount"],["field_invalid_currency","InvalidCurrency"],["field_invalid_account_number","InvalidAccountNumber"],["field_invalid_account_holder","InvalidAccountHolder"],["field_invalid_bank_code","InvalidBankCode"],["field_invalid_iban","InvalidIban"],["field_invalid_bic","InvalidBic"],["field_invalid_country","InvalidCountry"],["field_invalid_bank_data","InvalidPaymentData"]],e=[[[900,901,904,907,990],"PspServerError"],[[971],"Timeouts"],[[924,925,926,927,930],"InvalidConfiguration"],[[14,880,984,895,896,897,937],"InvalidPaymentData"],[[970],"Aborted"],[[1,91,902,903,991],"AcquirerServerError"],[[2,5],"AuthorizationRejected"],[[951],"RateLimit"],[[12,911,912,913],"InvalidTransaction"],[[13,891,906,908,917,918,919,920],"AmountLimitExceeeded"],[[923,931,932,933,934],"InvalidPaymentMethod"],[[1076,31],"InvalidCardType"],[[1073,1075,1078,56,877,872],"InvalidCardNumber"],[[1077,33],"InvalidExpirationDate"],[[1079,7,879],"InvalidCardCvc"],[[894],"InvalidCardHolder"],[[916,935,944,945,962],"InvalidAmount"],[[910],"InvalidCurrency"],[[1083,883],"InvalidAccountNumber"],[[1080],"InvalidAccountHolder"],[[1081,1082,1084,1085,1086,884],"InvalidBankCode"],[[1087,888],"InvalidIban"],[[1088,887],"InvalidBic"],[[889,892,893],"InvalidCountry"],[[881,882,886,890,34,4,62],"BearerRejected"]];return n.prototype=new Error,n.prototype.name="IteroError",Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(u){if(typeof u!="object"&&(typeof u!="function"||u===null))throw new TypeError("Object.keys called on non-object");var e=[],o,f;for(o in u)t.call(u,o)&&e.push(o);if(i)for(f=0;f<r;f++)t.call(u,n[f])&&e.push(n[f]);return e}}()),this.Portal=function(t){var e=this,f;if(!t)throw new n("ArgumentMissing: customerToken");this.upgradePreview=function(){throw new n("NotImplemented");};this.upgradePayInteractive=function(r,u,f,e,o){if(!r)throw new n("ArgumentMissing: iteroJSPayment");if(!u)throw new n("ArgumentMissing: secretPaymentData");if(!f)throw new n("ArgumentMissing: order");if(!e)throw new n("ArgumentMissing: success");if(!o)throw new n("ArgumentMissing: error");if(!f.OrderId||!f.Currency)throw new n("ArgumentInvalid: order is not an order. Currency or OrderId missing");var s=f.GrossTotal==0?9.99:f.GrossTotal;r.tetherPaymentInformation(s,f.Currency,u,function(n){var r={payOrderType:"Interactive",paymentData:n,orderId:f.OrderId};i(baseUrl+"CustomerSelfService/PayUpgradeOrder?token="+t,r,e,o)},function(n){o(n)})};this.upgradePaySync=function(r,u,f){if(!r)throw new n("ArgumentMissing: orderId");if(!u)throw new n("ArgumentMissing: success");if(!f)throw new n("ArgumentMissing: error");var e={orderId:r,payOrderType:"Synchronous"};i(baseUrl+"CustomerSelfService/PayUpgradeOrder?token="+t,e,u,f)};this.invoicePdfDownloadUrl=function(i){if(!i)throw new n("ArgumentMissing: invoice");var r="";if(typeof i=="object"&&i.Id)r=i.Id;else if(typeof i=="string")r=i;else throw new n("Invalid parameter invoice, must be an invoice object or a string!");return baseUrl+"CustomerSelfService/Download/"+r+"?token="+t};this.contractDetails=function(i,r){if(!i)throw new n("ArgumentMissing: success");if(!r)throw new n("ArgumentMissing: error");u(baseUrl+"CustomerSelfService/ContractDetails",{token:t},i,r)};this.contractCancel=function(i,u){if(!i)throw new n("ArgumentMissing: success");if(!u)throw new n("ArgumentMissing: error");r(baseUrl+"CustomerSelfService?token="+t,"DELETE",{},i,u)};this.customerChange=function(i,r,u){if(!i)throw new n("ArgumentMissing: customerData");if(!r)throw new n("ArgumentMissing: success");if(!u)throw new n("ArgumentMissing: error");if(i.VatId&&!validateVatId(i.VatId))throw new n("ArgumentError: vatId='"+i.VatId+"' is not valid");k(baseUrl+"CustomerSelfService/CustomerData?token="+t,i,r,u)};this.getRisk=function(i,r){if(!i)throw new n("ArgumentMissing: success");if(!r)throw new n("ArgumentMissing: error");u(baseUrl+"CustomerSelfService/Risk?token="+t,{},i,r)};f=!1;this.paymentChange=function(r,e,o,s){if(!r)throw new n("ArgumentMissing: iteroJSPayment");if(!e)throw new n("ArgumentMissing: secretPaymentData");if(!o)throw new n("ArgumentMissing: success");if(!s)throw new n("ArgumentMissing: error");if(f)throw new n("changePaymentMethod() is already running!");f=!0;u(baseUrl+"CustomerSelfService/TransactionValues?txToken=abc&token="+t,{},function(n){var u=n.Balance,h=n.Currency;r.tetherPaymentInformation(u,h,e,function(n){var r=i(baseUrl+"CustomerSelfService/PaymentMethod?token="+t,n,function(n){f=!1;o(n)},function(n){f=!1;s(n)})},function(n){f=!1;s(n)})},s)}},this.Signup=function(){function f(n,t,r,u){if(n.ComponentSubscriptions)for(var f=0;f<n.ComponentSubscriptions.length;f++)n.ComponentSubscriptions[f].Quantity&&n.ComponentSubscriptions[f].Quantity!=null||(n.ComponentSubscriptions[f].Quantity=0);i(baseUrl+"CustomerSelfService/Preview",{cart:n,customer:t},r,u)}var u=this,e=!1,t,r;this.paySignupInteractive=function(t,r,u,f,o){if(!t)throw new n("ArgumentMissing: iteroJSPayment");if(!r)throw new n("ArgumentMissing: secretPaymentData");if(!u)throw new n("ArgumentMissing: order");if(!f)throw new n("ArgumentMissing: success");if(!o)throw new n("ArgumentMissing: error");if(!u.OrderId||!u.Currency)throw new n("ArgumentInvalid: order is not an order. Currency or OrderId missing");var s=u.GrossTotal==0?9.99:u.GrossTotal;t.tetherPaymentInformation(s,u.Currency,r,function(n){var t={payOrderType:"Interactive",paymentData:n,orderId:u.OrderId};i(baseUrl+"CustomerSelfService/signup/pay",t,f,o)},function(n){e=!1;o(n)})};this.createOrder=function(t,r,u,f){if(!t)throw new n("ArgumentMissing: cart");if(!r)throw new n("ArgumentMissing: customerData");if(!u)throw new n("ArgumentMissing: success");if(!f)throw new n("ArgumentMissing: error");if(r.vatId&&!validateVatId(r.vatId))throw new n("ArgumentError: vatId='"+r.vatId+"' is not valid");var e={cart:t,customer:r};i(baseUrl+"CustomerSelfService/signup/order",e,u,f)};this.subscribe=function(n,t,i,r,f,e){u.createOrder(t,i,function(t){u.paySignupInteractive(n,r,t,f,e)},e)};r=!0;this.preview=function(i,u,e,o){if(!i)throw new n("ArgumentMissing: cart");if(!u)throw new n("ArgumentMissing: customerData");if(!e)throw new n("ArgumentMissing: success");if(!o)throw new n("ArgumentMissing: error");if(r){f(i,u,e,o);r=!1;return}t&&window.clearTimeout(t);t=setTimeout(function(){f(i,u,e,o)},700)}},this.Payment=function(r,f,e){function y(t,i,r,u,f){var o,e;if(!paymill)throw new n("paymentPaymill called, but paymill bridge not loaded!");if(o=r.bearer,o=="CreditCard:Paymill")e={amount_int:(t*100).toFixed(),currency:i,number:r.cardNumber,exp_month:r.expiryMonth,exp_year:r.expiryYear,cvc:r.cvc,cardholder:r.cardHolder};else if(o=="Debit:Paymill")e={accountholder:r.accountHolder},r.bankAccountNumber?(e.number=r.bankAccountNumber,e.bank=r.bankRoutingCode):(e.iban=r.iban,e.bic=r.bic);else throw new n("Invalid payment method given to paymentPaymill!");paymill.createToken(e,function(n,t){n?f(h(n)):t&&(r={bearer:{token:t.token},selectedPaymentMethod:o,returnUrl:s.providerReturnUrl},u(r))},s.popupCreate||null,s.popupClose||null)}function p(i,r,u,f,e){function w(n){for(var i=0;i<v.length;i++)if(v[i].pattern.test(n))return v[i].payOneCode;e(t(["ValidationError","InvalidCardNumber"],"Unknown card type or invalid card number"))}var v,o,c,a,y,p;if(!PayoneRequest)throw new n("paymentPayOne called, but payone bridge not loaded!");if(v=[{type:"MasterCard",pattern:/^(5[1-5])/,luhn:!0,cvcLength:[3],numLength:[16],payOneCode:"M"},{type:"Visa",pattern:/^4/,luhn:!0,cvcLength:[3],numLength:[13,16],payOneCode:"V"},{type:"American Express",pattern:/^3[47]/,luhn:!0,cvcLength:[3,4],numLength:[15],payOneCode:"A"},{type:"Discover",pattern:/^(6011|622(1[2-90][6-9]|[2-8]\d{2}|9[0-1]\d|92[0-5])|64[4-9]|65)/,luhn:!0,cvcLength:[3],numLength:[16],payOneCode:"C"},{type:"Diners Club",pattern:/^(30[0-5]|36|38)/,luhn:!0,cvcLength:[3],numLength:[14],payOneCode:"D"},{type:"JCB",pattern:/^35([3-8][0-9]|2[8-9])/,luhn:!0,cvcLength:[3],numLength:[16],payOneCode:"J"},{type:"Maestro",pattern:/^(5018|5020|5038|5893|6304|6331|6703|6759|676[1-3]|6799|0604)/,luhn:!0,cvcLength:[0,3,4],numLength:[12,13,14,15,16,17,18,19],payOneCode:"O"}],window.processCCCheckResponse=function(n){var i=n.get("status"),t;i!="VALID"?e(h(n)):(t={holder:u.cardHolder,pseudoCardPan:n.get("pseudocardpan"),truncatedCardPan:n.get("truncatedcardpan"),cardType:u.cardType,expiryMonth:u.expiryMonth,expiryYear:u.expiryYear},u={bearer:t,selectedPaymentMethod:c,returnUrl:s.providerReturnUrl},f(u))},window.processAccountCheckResponse=function(n){var i=n.get("status"),t;i!="VALID"?e(h(n)):(t={country:n.get("bankcountry"),account:n.get("bankaccount"),code:n.get("bankcode"),iban:u.iban,bic:u.bic},u={bearer:t,selectedPaymentMethod:c,returnUrl:s.providerReturnUrl},f(u))},o=l.PayOne,c=u.bearer,c=="CreditCard:PayOne"){u.cardType=w(u.cardNumber);var a={request:"creditcardcheck",mode:o.Mode.toLowerCase(),mid:o.MerchantId,aid:o.AccountId,portalid:o.PortalId,storecarddata:"yes",hash:o.CreditCardHash,cardholder:u.cardHolder,cardpan:u.cardNumber,cardtype:u.cardType,cardexpiremonth:u.expiryMonth,cardexpireyear:u.expiryYear,cardcvc2:u.cvc,language:"de"},y={return_type:"object",callback_function_name:"processCCCheckResponse"},p=new PayoneRequest(a,y);p.checkAndStore()}else if(c=="Debit:PayOne")a={request:"bankaccountcheck",mode:o.Mode.toLowerCase(),mid:o.MerchantId,aid:o.AccountId,portalid:o.PortalId,hash:o.BankAccountHash,bankcountry:u.country||"DE",bankaccount:u.bankAccountNumber||"",bankcode:u.bankRoutingCode||"",language:"de"},u.iban&&u.bic&&(a.iban=u.iban,a.bic=u.bic),y={return_type:"object",callback_function_name:"processAccountCheckResponse"},p=new PayoneRequest(a,y),p.checkAndStore();else throw new n("Invalid payment method given to paymentPayOne!");}function w(n,t,r,u,f){var e=r.bearer;i(baseUrl+"CustomerSelfService/PaymentProviderInit",{selectedPaymentMethod:e,entityId:s.publicApiKey},function(n){c(function(){o(n.ClientInitializationURL,function(){var i=new WirecardCEE_DataStorage,t={};e=="CreditCard:Wirecard"?(t.pan=r.cardNumber,t.expirationMonth=r.expiryMonth,t.expirationYear=r.expiryYear,t.cardholdername=r.cardHolder,t.cardverifycode=r.cvc,i.storeCreditCardInformation(t,function(t){var h=t.getErrors(),a;if(h)f(h);else{var i=t.response.paymentInformation,c=0,l=0,o=i.expiry.split("/");o.length>1&&(l=o[0],c=o[1]);o.length==2&&(a={holder:i.cardholdername,pseudoCardPan:i.anonymousPan,cardType:i.brand,expiryYear:c,expiryMonth:l,storageId:t.response.storageId,paymentIdentifier:n.PaymentIdentifier});r={bearer:a,selectedPaymentMethod:e,returnUrl:s.providerReturnUrl};u(r)}})):(t.bankBic=r.bic,t.bankAccountIban=r.iban,t.accountOwner=r.accountHolder,i.storeSepaDdInformation(t,function(t){var o=t.getErrors(),i,h;o?f(o):(i=t.response.paymentInformation,h={iban:i.bankAccountIban,bic:i.bankBic,holder:i.accountOwner,storageId:t.response.storageId,paymentIdentifier:n.PaymentIdentifier},r={bearer:h,selectedPaymentMethod:e,returnUrl:s.providerReturnUrl},u(r))}))})})},f)}function b(t,i){if(!t)throw new n("MissingArgument: paymentMethods");if(!i)throw new n("MissingArgument: loaded");v||(t.Paymill?(window.PAYMILL_PUBLIC_KEY=t.Paymill.PublicKey,c(function(){o("https://bridge.paymill.com/",i)})):t.PayOne?(window.PAYONE_CLIENT_API_URL="https://secure.pay1.de/client-api/",c(function(){o("https://secure.pay1.de/client-api/js/ajax.js",i)})):i())}function k(t,i){if(!t)throw new n("ArgumentMissing: success");if(!i)throw new n("ArgumentMissing: error");u(baseUrl+"CustomerSelfService/PaymentMethods",{entityId:s.publicApiKey},function(n){for(var i,r={paymentMethods:n,paymentMethodEnum:[]},f=Object.keys(n),u=0;u<f.length;u++)i=f[u],n[i].CreditCard&&r.paymentMethodEnum.push("CreditCard:"+i),n[i].DirectDebit&&r.paymentMethodEnum.push("Debit:"+i),n[i].CreditCard||n[i].DirectDebit||r.paymentMethodEnum.push(i);t(r)},i)}var d=this,l=null,a=null,s,v;if(!r)throw new n("ArgumentMissing: paymentConfiguration");if(!f)throw new n("ArgumentMissing: ready");if(!e)throw new n("ArgumentMissing: error");if(!r.publicApiKey)throw new n("ArgumentInvalid: paymentConfiguration missing publicApiKey");s={publicApiKey:r.publicApiKey,popupCreate:r.popupCreate,popupClose:r.popupClose,providerReturnUrl:r.providerReturnUrl};k(function(n){l=n.paymentMethods;a=n.paymentMethodEnum;b(l,f)},e);this.getAvailablePaymentMethods=function(){return l};this.getAvailablePaymentMethodEnum=function(){return a};this.tetherPaymentInformation=function(t,i,r,u,f){if(t<0)throw new n("ArgumentError: amount: Negative payments aren't supported");if(!i||typeof i!="string"||i.length!=3)throw new n("ArgumentError: currency: not set or not a valid 3-letter string: "+i);if(!r)throw new n("ArgumentMissing: paymentData");if(!u)throw new n("ArgumentMissing: success");if(!f)throw new n("ArgumentMissing: error");switch(r.bearer){case"Debit:Paymill":case"CreditCard:Paymill":y(t,i,r,u,f);break;case"Debit:PayOne":case"CreditCard:PayOne":p(t,i,r,u,f);break;case"PayPal":case"BlackLabel:PayPal":u({bearer:{emailAddress:r.emailAddress},selectedPaymentMethod:"BlackLabel:PayPal",returnUrl:s.providerReturnUrl});break;case"Skrill":case"BlackLabel:Skrill":u({selectedPaymentMethod:"BlackLabel:Skrill",returnUrl:s.providerReturnUrl,maxDebitAmount:r.maxDebitAmount});break;case"None:None":u({selectedPaymentMethod:"None:None",returnUrl:s.providerReturnUrl});break;case"FakePSP":case"BlackLabel:FakePSP":u({selectedPaymentMethod:"BlackLabel:FakeProvider",returnUrl:s.providerReturnUrl});break;case"Debit:FakePSP":u({bearer:{holder:r.accountHolder,code:r.bankRoutingCode,account:r.bankAccountNumber,iban:r.iban,bic:r.bic},selectedPaymentMethod:"Debit:FakeProvider",returnUrl:s.providerReturnUrl});break;case"CreditCard:FakePSP":u({bearer:{pseudoCardPan:r.cardNumber,TruncatedCardPan:"****",ExpiryMonth:r.expiryMonth,ExpiryYear:r.expiryYear,Holder:r.cardHolder},selectedPaymentMethod:"CreditCard:FakeProvider",returnUrl:s.providerReturnUrl});break;case"InvoicePayment":case"BlackLabel:InvoicePayment":u({selectedPaymentMethod:"BlackLabel:InvoicePayment",returnUrl:s.providerReturnUrl});break;case"Debit:Wirecard":case"CreditCard:Wirecard":w(t,i,r,u,f);break;default:throw new n("Unknown payment bearer '"+r.bearer+"'!");}};v=!1},this.validateVatId=function(n){var i=n.substring(0,2).toUpperCase(),t=v[i];return(t&&t.test(n))==!0},this.finalize=function(t,r){if(!t)throw new n("ArgumentMissing: success");if(!r)throw new n("ArgumentMissing: error");i(baseUrl+"CustomerSelfService/Finalize",{returnUrl:window.location.href},t,r)},this}();